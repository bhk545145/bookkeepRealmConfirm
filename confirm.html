<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Email Confirmation</title>
  <!-- Import Realm Web SDK -->
  <script src="https://unpkg.com/realm-web@latest/dist/bundle.iife.js"></script>
</head>
<body>
  <h1>Email Confirmation Page</h1>
  <p id="message">Confirming...</p>

  <script>
    // Parse the URL query parameters
    var urlParams = new URLSearchParams(window.location.search);
    var token = urlParams.get('token');
    var tokenId = urlParams.get('tokenId');

    // Initialize the App
    const app = new Realm.App({ id: "bookkeepwithaigc-hioop" }); // Set your-app-id to your actual app id

    // Confirm the user
    app.emailPasswordAuth.confirmUser(token, tokenId).then(() => {
      document.getElementById("message").innerHTML = "Email verified successfully!";
    }).catch(err => {
      document.getElementById("message").innerHTML = "Failed to verify email. Error: " + err.message + "token" + token + "tokenId" + tokenId;
    });
  </script>
</body>
</html>